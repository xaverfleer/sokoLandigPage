<!DOCTYPE html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
    so* kommunizieren
  </title>
  <meta charset="utf-8">
  <link href="https://fonts.googleapis.com/css?family=Nunito&display=swap" rel="stylesheet">
  <link rel="stylesheet" href='./styles.css'>

  <script src="/amplitudeSnippet.js"></script>
</head>

<body>
  <div class="page">
    <header class="header">
      <a class="header__home" href="./index.html">
        <img class="header__logo" src='./imgs/logo.png'>
      </a>
      <nav class="nav">
        <a class="nav__entry" href="#contact">Kontakt</a>
      </nav>
    </header>
    <main>
      <section class="section hero">
        <div class="section__subsection">
          <p class="hero__supertitle">Kurs für Eltern, Bezugs- und&nbsp;Betreuungspersonen</p>
          <h1 class="hero__title">
            <em>so*</em> kommunizieren mit meinem&nbsp;Baby
          </h1>
          <p class="hero__subjektorientiert"><em>*subjektorientiert</em></p>
        </div>
      </section>
      <section class="section section--kurs01">
        <div class="section__subsection">
          <h2 class="section__header">Inputvideos Kurs 1: Grundlagen der subjektorientierten&nbsp;Kommunikation</h2>
          <h3>Ich wünsche dir...</h3>
          <div class="video-wrapper" id="video-01a-ich-wuensche">
            <script src="https://fast.wistia.com/embed/medias/24qqh57pyn.jsonp" async></script>
            <script src="https://fast.wistia.com/assets/external/E-v1.js" async></script>
            <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
              <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
                <div class="wistia_embed wistia_async_24qqh57pyn videoFoam=true"
                  style="height:100%;position:relative;width:100%">
                  <div class="wistia_swatch"
                    style="height:100%;left:0;opacity:0;overflow:hidden;position:absolute;top:0;transition:opacity 200ms;width:100%;">
                    <img src="https://fast.wistia.com/embed/medias/24qqh57pyn/swatch"
                      style="filter:blur(5px);height:100%;object-fit:contain;width:100%;" alt="" aria-hidden="true"
                      onload="this.parentNode.style.opacity=1;" /></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="section__subsection">
          <h3>Grundlagen 1 - Innere Stärke</h3>
          <div class="video-wrapper" id="video-01b-innere-staerke">
            <script src="https://fast.wistia.com/embed/medias/3cjj41jxwg.jsonp" async></script>
            <script src="https://fast.wistia.com/assets/external/E-v1.js" async></script>
            <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
              <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
                <div class="wistia_embed wistia_async_3cjj41jxwg videoFoam=true"
                  style="height:100%;position:relative;width:100%">
                  <div class="wistia_swatch"
                    style="height:100%;left:0;opacity:0;overflow:hidden;position:absolute;top:0;transition:opacity 200ms;width:100%;">
                    <img src="https://fast.wistia.com/embed/medias/3cjj41jxwg/swatch"
                      style="filter:blur(5px);height:100%;object-fit:contain;width:100%;" alt="" aria-hidden="true"
                      onload="this.parentNode.style.opacity=1;" /></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="section__subsection">
          <h3>Grundlagen 2 - Gleichwürdigkeit</h3>
          <div class="video-wrapper" id="video-01c-gleichwuerdigkeit">
            <script src="https://fast.wistia.com/embed/medias/va2sztbhjy.jsonp" async></script>
            <script src="https://fast.wistia.com/assets/external/E-v1.js" async></script>
            <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
              <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
                <div class="wistia_embed wistia_async_va2sztbhjy videoFoam=true"
                  style="height:100%;position:relative;width:100%">
                  <div class="wistia_swatch"
                    style="height:100%;left:0;opacity:0;overflow:hidden;position:absolute;top:0;transition:opacity 200ms;width:100%;">
                    <img src="https://fast.wistia.com/embed/medias/va2sztbhjy/swatch"
                      style="filter:blur(5px);height:100%;object-fit:contain;width:100%;" alt="" aria-hidden="true"
                      onload="this.parentNode.style.opacity=1;" /></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="section__subsection">
          <h3>Lina weint</h3>
          <div class="video-wrapper" id="video-01d-lina-weint">
            <script src="https://fast.wistia.com/embed/medias/o4lx2aspii.jsonp" async></script>
            <script src="https://fast.wistia.com/assets/external/E-v1.js" async></script>
            <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
              <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
                <div class="wistia_embed wistia_async_o4lx2aspii videoFoam=true"
                  style="height:100%;position:relative;width:100%">
                  <div class="wistia_swatch"
                    style="height:100%;left:0;opacity:0;overflow:hidden;position:absolute;top:0;transition:opacity 200ms;width:100%;">
                    <img src="https://fast.wistia.com/embed/medias/o4lx2aspii/swatch"
                      style="filter:blur(5px);height:100%;object-fit:contain;width:100%;" alt="" aria-hidden="true"
                      onload="this.parentNode.style.opacity=1;" /></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section class="section">
        <h2 class="section__header">Inputvideos Kurs 2: <em>so*</em> mit meinem Baby kommunizieren, wenn ich&nbsp;handle
        </h2>
        <div class="section__subsection">
          <p class="text">Bitte melde dich an, um den Inhalt dieses Kurses zu sehen.</p>
        </div>
        <a class="call-to-action button cta00">Anmelden</a>
      </section>
    </main>
    <footer class="footer">
      <div id="contact" class="footer__contact">Kontaktiere uns unter <a
          href="mailto:xaver.fleer+soko@gmail.com">xaver.fleer+soko@gmail.com</a>
        oder
        <a href="tel:+41774466505" rel="nofollow">+41 77 44 66 505</a>
      </div>
      <div class="footer__copyright">© 2020 Fleer & Fleer</div>
    </footer>
  </div>
  <div class="overlay hidden">
    <div class="overlay__title">Hoppla, du warst schneller als wir.</div>
    <div class="overlay__textbox text">Diese Funktion existiert noch nicht.<br>Bitte kontaktiere uns mit direkt
      unter
      <a href="mailto:xaver.fleer+soko@gmail.com">xaver.fleer+soko@gmail.com</a> oder <a href="tel:+41774466505"
        rel="nofollow">+41 77 44 66 505</a>
    </div>
    <button id="overlay__close-button" class="overlay__close-button button">Schliessen</button>
  </div>
  <script>
    amplitude.getInstance().logEvent('Kurs page loaded');

    var overlay = document.querySelector('.overlay');

    document.querySelectorAll('.cta00').forEach(function (e) {
      e.addEventListener('click', function () {
        overlay.classList.remove('hidden');
        amplitude.getInstance().logEvent('Anmelden clicked');
      })
    });

    // document.addEventListener('play', function (e) { debugger; });
    var observerOptions = {
      childList: true,
      attributes: false,
      subtree: true
    }

    var observer = new MutationObserver(captureVideoAdded);
    var targetNode = document.querySelector('main');
    observer.observe(targetNode, observerOptions);
    function captureVideoAdded(mutations, obs) {
      var elementIsAdded = mutations.filter(m => m.addedNodes.length > 0);
      var addedVideos = mutations.reduce(function (acc, mutation) {
        Array.prototype.slice.call(mutation.addedNodes)
          .filter(node => node.nodeName === 'VIDEO')
          .forEach(node => acc.push(node));
        return acc;
      }, []);
      addedVideos.forEach(function (video) {
        var id = video.closest('.video-wrapper').id;
        video.addEventListener('play', function (event) {
          amplitude.getInstance().logEvent('Played ' + id);
        });
        video.addEventListener('ended', function (event) {
          amplitude.getInstance().logEvent('Ended ' + id);
        });
        video.addEventListener('pause', function (event) {
          amplitude.getInstance().logEvent('Paused ' + id);
        });
      })
    };
    document.getElementById('overlay__close-button').addEventListener('click', e => overlay.classList.add('hidden'));
  </script>
</body>
