<template>
  <div>
    <div class="page">
      <header class="header">
        <div class="header__emotion">
          <div class="header__emotion-content">
            <button class="header__play-video"></button>
            <div class="header__teaser">
              so* kommunizieren,
              <br />
              gesunde Entwicklung nähren
            </div>
          </div>
        </div>
        <div class="header__content">
          <g-link class="header__home" to="/">
            <img
              alt="Growing tree"
              class="header__logo"
              height="200"
              width="auto"
              src="/imgs/logo.png"
              title="Zur Startseite"
            />
          </g-link>
          <nav class="nav">
            <g-link
              class="nav__entry nav__entry--primary"
              to="/kurs/"
              target="_blank"
              >Gratis starten</g-link
            >
            <a class="nav__entry nav__entry--2ndary" href="#contents"
              >Inhalte</a
            >
            <a class="nav__entry nav__entry--2ndary" href="#offer">Angebote</a>
            <a class="nav__entry nav__entry--2ndary" href="#about-me"
              >Über mich</a
            >
            <a class="nav__entry nav__entry--2ndary" href="#contact">Kontakt</a>
          </nav>
        </div>
      </header>
      <main>
        <section class="section hero">
          <p class="hero__supertitle">
            Der Onlinekurs für Eltern, Bezugs- und&nbsp;Betreuungspersonen
          </p>
          <h1 class="hero__title">
            <em>so*</em> kommunizieren mit meinem&nbsp;Baby
          </h1>
          <p class="hero__subjektorientiert">
            <em>*subjektorientiert: einfühlsam, wertschätzend, stärkend</em>
          </p>
          <br />
          <div>
            <img class="hero__discount-img" src="/imgs/rabattstern.png" />
          </div>
          <p>
            Du bist...
          </p>
          <ul class="ul--3-dots">
            <li>
              werdende Mutter oder werdender Vater
            </li>
            <li>
              Elternteil, Bezugs- oder Betreuungsperson eines Kindes zwischen 0
              und 2 Jahren
            </li>
          </ul>
          <p>
            Du willst durch deine Kommunikation...
          </p>
          <ul class="ul--3-dots">
            <li>
              ein stabiles Fundament für eine glückliche Kindheit und ein
              erfülltes Erwachsenenleben schaffen?
            </li>
            <li>
              deinem Baby helfen, ein positives Selbstbild und ein gesundes
              Selbstvertrauen aufzubauen?
            </li>
            <li>
              die Lebensqualität und das Wohlbefinden aller Familienmitglieder
              positiv beeinflussen?
            </li>
          </ul>
          <p>
            Starte jetzt gratis mit dem Onlinekurs zur
            <em>subjektorientierten</em>
            Kommunikation mit Babys!
          </p>
          <div class="buttons">
            <g-link
              class="button button--primary"
              to="/kurs/"
              target="_blank"
              title="Gratis starten"
              >Gratis starten</g-link
            >
            <a
              class="button button--2ndary cta05"
              href="#contents"
              title="Inhalt"
              >Mehr erfahren</a
            >
          </div>
          <!--<div class="section__subsection--highlight">
            <h2>Aktuell: 50% Rabatt auf </h2>
            <p>
              Im April 2021 startet der erste geleitete Onlinekurs. Im geleiteten Onlinekurs 
              bist du über fünf Monate Teil einer fixen Lerngruppe. Die Kursinhalte erarbeitest 
              du nach einem vorgegebenen Plan Schritt für Schritt bequem zuhause. Zusätzlich 
              triffst du dich 2x im Monat online mit deiner Lerngruppe, um gemeinsam zu üben, 
              zu diskutieren, zu vertiefen und auszutauschen. 
            </p>
            <p>
              Der geleitete Onlinekurs passt zu dir, wenn du...
            </p>
            <ul class="ul--3-dots">
              <li>
                Elternteil oder Bezugsperson eines Babys zwischen 0 und 2 Jahren
                bist (oder bald Elternteil sein wirst),
              </li>
              <li>
                dir einen sturkturierten und geleiteten Kursablauf und dadurch auch eine 
                gewisse Verbindlichkeit wünschst,
              </li>
              <li>
                Teil einer beständigen Lerngruppe sein willst, in der ein vertrauensvoller 
                Austausch möglich ist.
              </li>
            </ul>
            <p>
              Die ersten fünf Personen oder Paare, die sich für den geleiteten Onlinekurs anmelden,
              profitieren von einem Rabatt von 50%!
            </p>
            <p>
              Anmeldeschluss: 05. März 2021
            </p>
            <div class="buttons">
              <a
                class="button button--primary"
                href="#pricing"
                title="Angebot buchen"
              >
                Angebot buchen
              </a>
              <a
                class="button button--2ndary cta05"
                href="#contents"
                title="Inhalt"
                >Zum Kursinhalt</a
              >
            </div>
          </div> -->
        </section>
        <section class="section">
          <a class="scroll-offset" id="contents"></a>
          <h2>Inhalte</h2>
          <p>
            Der Online-Video-Kurs «<em>so*</em> kommunizieren mit meinem Baby»
            besteht aus fünf Kursblöcken. Jeder Kursblock beinhaltet:
          </p>
          <div class="value-proposition">
            <div class="value-proposition__entry">
              <img
                class="value-proposition__icon"
                src="imgs/video_library-24px.svg"
              />
              <h3 class="value-proposition__titie">Inputvideos</h3>
              <div class="value-proposition__description">
                <br />
                50&thinsp;-&thinsp;90 Minuten animierte Videos pro Kursblock
                bieten Wissen und Strategien rund um eine einfühlsame,
                wertschätzende und stärkende Kommunikation mit Babys.
              </div>
            </div>
            <div class="value-proposition__entry">
              <img class="value-proposition__icon" src="imgs/edit-24px.svg" />
              <h3 class="value-proposition__titie">Übungen</h3>
              <div class="value-proposition__description">
                <br />
                Ein breites Angebot an Übungen hilft dir, die Inhalte aus den
                Videos zu vertiefen und zu festigen.
              </div>
            </div>
            <div class="value-proposition__entry">
              <img
                class="value-proposition__icon"
                src="imgs/description-24px.svg"
              />
              <h3 class="value-proposition__titie">Zusammenfassungen</h3>
              <div class="value-proposition__description">
                <br />
                Zusammenfassungen der wichtigsten Kursinhalte ermöglichen einen
                raschen Überblick und eine schnelle Repetition der Themen.
              </div>
            </div>
            <div class="value-proposition__entry">
              <img
                class="value-proposition__icon"
                src="imgs/article-24px.svg"
              />
              <h3 class="value-proposition__titie">Strategiekarten</h3>
              <div class="value-proposition__description">
                <br />
                Alle Kommunikationsstrategien findest du zusammengefasst auf je
                einer A5-Seite, z.B. zum Aufhängen als Erinnerungshilfe.
              </div>
            </div>
            <div class="value-proposition__entry">
              <img
                class="value-proposition__icon"
                src="imgs/find_in_page-24px.svg"
              />
              <h3 class="value-proposition__titie">Vertiefungsmaterial</h3>
              <div class="value-proposition__description">
                <br />
                Vertiefende Materialien im PDF-Format zu diversen Themen rund um
                die Entwicklung des Babys stehen zum Download zur Verfügung.
              </div>
            </div>
            <div class="value-proposition__entry">
              <img class="value-proposition__icon" src="imgs/map-24px.svg" />
              <h3 class="value-proposition__titie">Kursfahrplan</h3>
              <div class="value-proposition__description">
                <br />
                Ein Fahrplan gibt dir eine Übersicht über alle Kursblockinhalte
                und hilft dir, dich im Kursblock zurechtzufinden.
              </div>
            </div>
          </div>
          <p>
            In den fünf Kursblöcken lernst du...
          </p>
          <ul class="checklist">
            <li class="checklist__item  checklist__item--kursblock-1">
              <img
                alt="Alle stehen oben auf dem Podest als Symbol, dass alle wichtig sind."
                src="/imgs/alle-sind-wichtig.png"
                width="100"
              />
              <div class="checklist__text">
                ...was es heisst, dein Baby als gleichwürdiges Subjekt
                wahrzunehmen und zu behandeln&nbsp;(Kursblock&nbsp;1, gratis
                verfügbar)
              </div>
            </li>
            <li class="checklist__item checklist__item--kursblock-2">
              <div class="checklist__text">
                ...wie du im Alltag immer wieder in nährende Interaktionen mit
                deinem Baby treten kannst, zum Beispiel wenn du das Baby
                pflegst.&nbsp;(Kursblock&nbsp;2)
              </div>
              <img
                alt="Vater wickelt sein Baby"
                src="/imgs/babypflege.png"
                width="100"
              />
            </li>
            <li class="checklist__item checklist__item--kursblock-3">
              <img
                alt="Weinendes, überfordertes Baby"
                src="/imgs/baby-weint.png"
                width="100"
              />
              <div class="checklist__text">
                ...wie du die Signale und das Verhalten deines Babys aktiv lesen
                und angemessen darauf reagieren kannst.&nbsp;(Kursblock&nbsp;3)
              </div>
            </li>
            <li class="checklist__item checklist__item--kursblock-4">
              <div class="checklist__text">
                ...wie du dich selbst stärken kannst, damit du genügend
                Ressourcen für den Alltag mit deinem Baby
                hast.&nbsp;(Kursblock&nbsp;4)
              </div>
              <img
                alt="Starke Eltern"
                src="/imgs/starke-eltern.png"
                width="100"
              />
            </li>
            <li class="checklist__item checklist__item--kursblock-5">
              <img
                alt="Baby forscht auf dem Wäschekorb"
                src="/imgs/baby-forscht.png"
                width="100"
              />
              <div class="checklist__text">
                ...wie du das Spielen und Forschen deines Babys begleiten
                kannst, damit es in seinem Forschungsdrang gestärkt
                wird.&nbsp;(Kursblock&nbsp;5)
              </div>
            </li>
          </ul>
          <img
            alt="Mother on laptop and baby sleeping in bed"
            class="img"
            src="imgs/mother-on-laptop-and-baby-sleeping-in-bed.jpg"
          />
        </section>
        <section class="section">
          <a class="scroll-offset" id="offer"></a>
          <h2>Angebote</h2>
          <div class="offers-wrapper">
            <div class="offer-selector">
              <button
                class="offer-selector__button offer-selector__button--active offer-selector__button--alone"
                id="learn-button--alone"
              >
                Ich lerne gerne selbstständig
              </button>
              <button
                class="offer-selector__button offer-selector__button--group"
                id="learn-button--in-group"
              >
                Ich lerne gerne in einer Gruppe
              </button>
            </div>
            <div class="offers">
              <div
                class="offers__offer offers__offer--active offers__offer--alone"
              >
                <h3>Freier Onlinekurs</h3>
                <p>
                  <strong
                    >Du lernst gerne allein, unverbindlich und in deinem eigenen
                    Tempo?</strong
                  >
                </p>
                <p>
                  Mit dem freien Onlinekurs erwirbst du einen dauerhaften Zugang
                  zu allen Kursinhalten. Die Kursinhalte bearbeitest du nach
                  deinem eigenen Plan und in deinem individuellen Lerntempo.
                </p>
                <p>
                  Zusätzlich hast du die unverbindliche Möglichkeit, einmal pro
                  Monat an einem Onlinemeeting teilzunehmen. Hier lernst du
                  andere Kursteilnehmende mit je unterschiedlichem Kursstand
                  kennen. Du diskutierst mit mir und mit Gleichgesinnten deine
                  aktuellen Fragen und Themen.
                </p>
                <p>Kursstart jederzeit möglich</p>
                <br />
                <p class="offer__space"></p>
                <div class="booking-offer">
                  <div class="booking-offer__entry booking-offer__title">
                    Freier Onlinekurs
                  </div>
                  <div class="booking-offer__entry booking-offer__main">
                    <div class="booking-offer__price">CHF 95</div>
                    <div>(Standardpreis: CHF 195)</div>
                  </div>
                  <div class="booking-offer__entry booking-offer__detail">
                    Freier, dauerhafter Zugang zu allen Kursinhalten
                  </div>
                  <div class="booking-offer__entry booking-offer__detail">
                    Individuelles Lerntempo
                  </div>
                  <div class="booking-offer__entry booking-offer__detail">
                    Unverbindliches Onlinemeeting 1x im Monat
                  </div>
                  <div class="booking-offer__entry booking-offer__detail">
                    30 Tage Geld-zurück-Garantie
                  </div>
                  <div class="booking-offer__entry booking-offer__detail">
                    Upgrade zu geführtem Gruppenkurs für CHF&nbsp;50 möglich
                  </div>
                  <div class="booking-offer__entry booking-offer__detail">
                    Kursstart jederzeit möchlich
                  </div>
                  <div class="buttons booking-offer__buttons">
                    <g-link
                      class="button button--primary"
                      to="/buchen/"
                      title="Jetzt buchen"
                      >Jetzt buchen</g-link
                    >
                  </div>
                </div>
              </div>
              <div class="offers__offer offers__offer--group">
                <h3>Geführter Gruppenkurs</h3>
                <p>
                  <strong
                    >Du lernst gerne strukturiert, geführt und in einer
                    Gruppe?</strong
                  >
                </p>
                <p>
                  Mit dem geführten Gruppenkurs wirst du Teil einer fixen
                  Lerngruppe. In regelmässigen Onlinemeetings (2x im Monat)
                  führe ich dich und deine Gruppe über einen Zeitraum von fünf
                  Monaten Schritt für Schritt durch den Onlinekurs. Ich schaffe
                  für dich eine klare Struktur und Verbindlichkeit.
                </p>
                <p>
                  Vor jedem Onlinemeeting schaust du dir als Vorbereitung die
                  vorgegebenen Videos an. Während den Treffen klären, vertiefen
                  und üben wir gemeinsam die Inhalte dieser Videos. Du bekommst
                  zudem konkrete Anleitungen und Ideen, wie du zuhause
                  weiterüben kannst.
                </p>
                <p>Nächster Kursstart: 7. April 2021</p>
                <p>Anmeldeschluss: 5. März 2021</p>
                <p>Freie Plätze: 7</p>
                <div class="document">
                  <a
                    href="/documents/Kursplan-Kursdaten.pdf"
                    target="_blank"
                    class="document__link document__link--further-information"
                    >Kursdaten und Kursplan</a
                  >
                </div>
                <p class="offer__space"></p>
                <div class="booking-offer">
                  <div class="booking-offer__entry booking-offer__title">
                    Geführter Gruppenkurs
                  </div>
                  <div class="booking-offer__entry booking-offer__main">
                    <div class="booking-offer__price">CHF 145</div>
                    <div>(Standardpreis: CHF 295)</div>
                  </div>
                  <div class="booking-offer__entry booking-offer__detail">
                    Freier und dauerhafter Zugang zu allen Kursinhalten
                  </div>
                  <div class="booking-offer__entry booking-offer__detail">
                    5-monatiger strukturierter und geleiteter Kursplan
                  </div>
                  <div class="booking-offer__entry booking-offer__detail">
                    Lernen in beständiger Lerngruppe
                  </div>
                  <div class="booking-offer__entry booking-offer__detail">
                    Onlinemeeting mit Lerngruppe 2x im Monat
                  </div>
                  <div class="booking-offer__entry booking-offer__detail">
                    30 Tage Geld-zurück-Garantie
                  </div>
                  <div class="booking-offer__entry booking-offer__detail">
                    Nächster Kursstart: April 2021
                  </div>
                  <div class="booking-offer__entry booking-offer__detail">
                    Anmeldeschluss: 05. März 2021
                  </div>
                  <div class="booking-offer__entry booking-offer__detail">
                    Noch 7 Plätze verfügbar
                  </div>
                  <div class="buttons booking-offer__buttons">
                    <g-link
                      class="button button--primary"
                      to="/gruppenkurs-buchen/"
                      title="Jetzt buchen"
                      >Jetzt buchen</g-link
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <section class="section">
          <a class="scroll-offset" id="about-me"></a>
          <h2>Über mich</h2>
          <img alt="Porträt von Eva Fleer" class="img" src="imgs/Eva.jpg" />
          <p>
            <strong
              >Trainerin für <em>subjketorientierte</em> Kommunikation mit
              Babys</strong
            ><br />
            <strong>Leiterin Elternkompasskurse (in Ausbildung)</strong><br />
            <strong>Master an der Pädagogischen Hochschule Bern</strong>
          </p>
          <br />
          <p>
            Ich bin Eva Fleer, ausgebildete und erfahrene Pädagogin und in
            Ausbildung zur Leiterin von Kursen für Eltern gemäss dem Konzept
            «Elternkompass». Im Verlauf dieser Ausbildung habe ich den
            Onlinekurs zur <em>subjektorientierten</em> Kommunikation mit Babys
            erstellt. In diesem Kurs trage ich Wissen und Strategien aus der
            Ausbildung, aus rund 50 Fachbüchern sowie aus den folgenden
            absolvierten Kursen zusammen:
          </p>
          <p></p>
          <ul>
            <li>Kurs «Familylab» nach Jesper Juul bei Nina Trepp</li>
            <li>
              Kurs «Wie Kinder ihren Selbstwert entdecken» bei Fabian Grolimund
            </li>
            <li>Onlinekurs «Resilienisch» bei Nora Völker</li>
            <li>
              Onlinekurs «Die Kunst gelassen und empathisch zu erziehen» von
              Lienhard Valentin
            </li>
            <li>Onlinekurs «Erziehen ohne Schimpfen» von Nicolas Schmidt</li>
            <li>Onlinekurs «Mein Familienkompass» von Nora Imlau</li>
          </ul>
          <p>
            Die «Theorie» erprobe ich täglich im Alltag mit meiner zweijährigen
            Tochter. Dabei erlebe ich immer wieder, wie uns das Wissen und die
            Strategien zur subjektorientierten Kommunikation beide stärken. Und
            ich erlebe auch, wie ich im schnelllebigen, anforderungsreichen
            Alltag immer wieder in alte Muster falle, den Kontakt zu meiner
            Tochter verliere und herablassend kommuniziere. Das sind
            schmerzhafte und dennoch lehrreiche Momente, die auf diesem
            spannenden Weg hin zu einer einfühlsamen, wertschätzenden und
            stärkenden Kommunikation dazugehören.
          </p>
        </section>
        <section class="section">
          <a class="scroll-offset" id="contact"></a>
          <h2>Kontakt</h2>
          <p>
            Hast du Fragen, Anregungen, Wünsche oder einfach etwas mitzuteilen?
            Ich freue mich über deine Nachricht.
          </p>
          <form class="form">
            <div class="form-entry form-entry--halfwidth">
              <label for="form__name" class="form-entry__label"
                ><abbr title="Pflichtfeld" class="form-entry__required">* </abbr
                >Name</label
              >
              <input
                name="name"
                id="form__name"
                required="required"
                type="text"
                class="form-entry__input"
              />
              <div class="form-entry__help"></div>
            </div>
            <div class="form-entry form-entry--halfwidth">
              <label for="form__email" class="form-entry__label"
                ><abbr title="Pflichtfeld" class="form-entry__required">* </abbr
                >E-Mail-Adresse</label
              >
              <input
                name="email"
                id="form__email"
                required="required"
                type="email"
                class="form-entry__input"
              />
              <div class="form-entry__help"></div>
            </div>
            <div class="form-entry form-entry--fullwidth">
              <label for="form__message" class="form-entry__label"
                ><abbr title="Pflichtfeld" class="form-entry__required">* </abbr
                >Nachricht</label
              >
              <textarea
                name="message"
                id="form__message"
                rows="10"
                class="form-entry__input"
              ></textarea>
              <div class="form-entry__help"></div>
            </div>
            <div class="buttons form__buttons">
              <button class="button button--primary">
                Nachricht senden
              </button>
            </div>
          </form>
        </section>
      </main>
      <footer class="footer">
        <div id="contact" class="footer__contact">
          Kontaktiere uns unter
          <a href="mailto:kurs@so-kommunizieren.ch" rel="nofollow"
            >kurs@so-kommunizieren.ch</a
          >
          oder
          <a href="tel:+41774466505" rel="nofollow"> +41 77 44 66 505</a>.
        </div>
        <div class="footer__copyright">
          © 2020 Fleer & Fleer |
          <g-link to="/impressum/" rel="nofollow">
            Impressum
          </g-link>
        </div>
      </footer>
      <div class="gdpr">
        <h3 class="gdpr__heading">Diese Webseite verwendet Cookies</h3>
        <p class="gdpr__p">
          Wir verwenden Cookies, um die bestmögliche Erfahrung auf unserer
          Website zu ermöglichen. Wenn du auf "Akzeptieren" klickst, stimmst du
          der Verwendung von Cookies durch uns zu. Wenn Sie unsere Website
          weiterhin ohne irgendeine Aktion nutzen, verwenden wir keine Cookies.
        </p>
        <div class="buttons">
          <button class="button button--primary" id="gdpr__accept">
            Akzeptieren
          </button>
        </div>
        <button class="button--gdpr-ignore" id="gdpr__ignore"></button>
      </div>
    </div>
    <div class="modal">
      <div class="modal__scrim"></div>
      <button class="modal__close"></button>
      <div class="modal__video">
        <iframe
          class="modal__video-iframe"
          src="https://player.vimeo.com/video/504356530"
          frameborder="0"
          allow="autoplay; muted; fullscreen"
          allowfullscreen
        ></iframe>
      </div>
    </div>
  </div>
</template>

<script>
import LogRocket from "logrocket";

function onMounted() {
  const Player = require("@vimeo/player").default;

  const Vimeo = { Player };

  const header = document.querySelector(".header");
  const headerPlayVideo = document.querySelector(".header__play-video");
  const nav = document.querySelector(".nav");
  const formElem = document.querySelector("form");
  const modalElems = {
    modal: document.querySelector(".modal"),
    close: document.querySelector(".modal__close"),
    vimeoVideo: document.querySelector(".modal__video-iframe"),
  };

  const learningMode = {
    buttons: {
      alone: document.getElementById("learn-button--alone"),
      group: document.getElementById("learn-button--in-group"),
    },
    content: {
      alone: document.querySelector(".offers__offer--alone"),
      group: document.querySelector(".offers__offer--group"),
    },
  };

  const page = document.querySelector(".page");

  const hideGdpr = () =>
    document.querySelector(".gdpr").setAttribute("style", "display: none;");

  function consentRequiringActions() {
    if (window.location.toString().indexOf("localhost") === -1) {
      LogRocket.init("yxvjmb/soko");
      amplitude.getInstance().logEvent("Page loaded");

      document.querySelectorAll(".cta05").forEach(function bindHandler(e) {
        e.addEventListener("click", function logEvent() {
          amplitude.getInstance().logEvent("Jetzt buchen");
        });
      });
    }
  }

  const storageGdpr = localStorage.getItem("soko-gdpr");

  if (["accepted", "ignored"].indexOf(storageGdpr) >= 0) {
    hideGdpr();
  } else {
    const elems = {
      accept: document.getElementById("gdpr__accept"),
      ignore: document.getElementById("gdpr__ignore"),
    };
    const handle = {
      accept: () => {
        localStorage.setItem("soko-gdpr", "accepted");
        hideGdpr();
        handle.unbind();
        consentRequiringActions();
      },
      ignore: () => {
        localStorage.setItem("soko-gdpr", "ignored");
        hideGdpr();
        handle.unbind();
      },
      unbind: () => {
        elems.accept.removeEventListener("click", handle.accept);
        elems.ignore.removeEventListener("click", handle.ignore);
      },
    };

    elems.accept.addEventListener("click", handle.accept);
    elems.ignore.addEventListener("click", handle.ignore);
  }

  if (storageGdpr === "accepted") consentRequiringActions();

  nav.addEventListener("click", function toggleNavActive() {
    const { classList } = nav;
    if ([].slice.call(classList).indexOf("nav--active") > -1)
      classList.remove("nav--active");
    else classList.add("nav--active");
  });

  window.addEventListener("scroll", function toggleHeaderPositioning() {
    if (window.pageYOffset > 350) header.classList.add("header--fixed");
    else header.classList.remove("header--fixed");
  });

  function getFormData() {
    const entries = [].slice.call(formElem.elements);

    const data = entries.reduce(
      (acc, elem) => (elem.value ? { ...acc, [elem.name]: elem.value } : acc),
      {}
    );
    return JSON.stringify(data);
  }

  function submitForm() {
    const xhr = new XMLHttpRequest();
    xhr.open("POST", `/.netlify/functions/sendMessage`);
    xhr.send(getFormData());
    xhr.addEventListener("load", () => {
      switch (xhr.status) {
        case 200:
          [].slice.call(formElem.elements).forEach(function clearElem(elem) {
            // eslint-disable-next-line no-param-reassign
            elem.value = "";
          });
          // this.handleSuccess(xhr);
          break;
        default:
          // eslint-disable-next-line no-alert
          alert(
            "Senden der Nachricht fehlgeschlagen.\nBitte versuche es später noch einmal oder kontaktiere uns unter kurs@so-kommunizieren.ch."
          );
          break;
      }
    });

    xhr.addEventListener("error", () => {
      // eslint-disable-next-line no-alert
      alert(
        "Senden der Nachricht fehlgeschlagen.\nBitte versuche es später noch einmal oder kontaktiere uns unter kurs@so-kommunizieren.ch."
      );
    });
  }

  document.querySelector("form").addEventListener("submit", submitForm);

  const modalPlayer = new Vimeo.Player(modalElems.vimeoVideo);

  function closeModal() {
    modalElems.modal.classList.remove("modal--open");
    page.classList.remove("page--modal-is-open");
    modalPlayer.pause();
  }

  function openModal() {
    modalElems.modal.classList.add("modal--open");
    page.classList.add("page--modal-is-open");
    modalPlayer.play();
    document.addEventListener("keyup", (event) => {
      if (event.key === "Escape") closeModal();
    });
  }

  headerPlayVideo.addEventListener("click", openModal);
  modalElems.close.addEventListener("click", closeModal);

  learningMode.buttons.alone.addEventListener("click", () => {
    learningMode.buttons.alone.classList.add("offer-selector__button--active");
    learningMode.buttons.group.classList.remove(
      "offer-selector__button--active"
    );
    learningMode.content.alone.classList.add("offers__offer--active");
    learningMode.content.group.classList.remove("offers__offer--active");
  });

  learningMode.buttons.group.addEventListener("click", () => {
    learningMode.buttons.alone.classList.remove(
      "offer-selector__button--active"
    );
    learningMode.buttons.group.classList.add("offer-selector__button--active");
    learningMode.content.alone.classList.remove("offers__offer--active");
    learningMode.content.group.classList.add("offers__offer--active");
  });
}

export default {
  metaInfo: {
    meta: [
      { name: "canonical", href: "https://so-kommunizieren.ch/" },
      {
        name: "description",
        content:
          "Übersicht zur subjektorienten Kommunikation: Wie stärke ich Selbstwert, Selbstbewusstsein und Selbstvertrauen meines Babys?",
      },
      {
        name: "google-site-verification",
        content: "21ovtDZF6FXeZlkMfWnPWAjtK_km4OwN5yRwcJRA0O4",
      },
    ],
    script: [
      {
        src: "/amplitudeSnippet.js",
      },
    ],
    title: "Nährende Kommunikation mit deinem Baby",
  },
  mounted: onMounted,
};
</script>
